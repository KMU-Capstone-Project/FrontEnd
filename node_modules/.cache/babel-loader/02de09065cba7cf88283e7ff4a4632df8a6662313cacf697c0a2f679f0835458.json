{"ast":null,"code":"var _jsxFileName = \"/Users/hayoon/Desktop/capcode/src/pages/chatPage/chatPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../../css/chatPage/chatPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst dummyRooms = [{\n  id: 1,\n  name: '찢어진 정장',\n  owner: '김철수',\n  image: '/product.png',\n  status: '대여완료',\n  scheduleDate: '',\n  schedulePlace: '',\n  messages: [{\n    id: 1,\n    user: '상대',\n    text: '네, 판매 중입니다.',\n    time: '2025-05-02T13:24:00',\n    isMe: false\n  }, {\n    id: 2,\n    user: '나',\n    text: '내일 직거래 가능할까요?',\n    time: '2025-05-03T13:25:00',\n    isMe: true\n  }]\n}];\nfunction ChatPage() {\n  _s();\n  const navigate = useNavigate();\n  const [rooms, setRooms] = useState(dummyRooms);\n  const [currentRoomId, setCurrentRoomId] = useState(1);\n  const [messages, setMessages] = useState(dummyRooms[0].messages);\n  const [input, setInput] = useState('');\n  const [files, setFiles] = useState([]);\n  const [showScheduleForm, setShowScheduleForm] = useState(false);\n  const [scheduleDate, setScheduleDate] = useState('');\n  const [schedulePlace, setSchedulePlace] = useState('');\n  const fileRef = useRef();\n  const scrollRef = useRef();\n  const currentRoom = rooms.find(r => r.id === currentRoomId);\n  useEffect(() => {\n    const updatedRoom = rooms.find(r => r.id === currentRoomId);\n    if (updatedRoom) setMessages(updatedRoom.messages);\n  }, [currentRoomId, rooms]);\n  useEffect(() => {\n    var _scrollRef$current;\n    (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const formatDateLabel = isoString => {\n    const date = new Date(isoString);\n    return `${date.getFullYear()}년 ${String(date.getMonth() + 1).padStart(2, '0')}월 ${String(date.getDate()).padStart(2, '0')}일`;\n  };\n  const formatTime = isoString => {\n    const date = new Date(isoString);\n    const hours = date.getHours();\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    const isAM = hours < 12;\n    const formattedHour = hours % 12 || 12;\n    return `${isAM ? '오전' : '오후'} ${formattedHour}:${minutes}`;\n  };\n  const shouldShowDate = (current, previous) => {\n    const currDate = new Date(current).toDateString();\n    const prevDate = previous ? new Date(previous).toDateString() : null;\n    return currDate !== prevDate;\n  };\n  const shouldShowTime = (current, next) => {\n    if (!next) return true;\n    const currentTime = new Date(current).toTimeString().slice(0, 5);\n    const nextTime = new Date(next).toTimeString().slice(0, 5);\n    return currentTime !== nextTime;\n  };\n  const handleSend = () => {\n    if (!input.trim() && files.length === 0) return;\n    const now = new Date();\n    const newMessages = [];\n    if (input.trim()) {\n      newMessages.push({\n        id: messages.length + newMessages.length + 1,\n        user: '나',\n        text: input,\n        image: null,\n        time: now.toISOString(),\n        isMe: true\n      });\n    }\n    if (files.length) {\n      newMessages.push(...files.map((f, i) => ({\n        id: messages.length + newMessages.length + i + 1,\n        user: '나',\n        text: null,\n        image: URL.createObjectURL(f),\n        time: now.toISOString(),\n        isMe: true\n      })));\n    }\n    const updatedRooms = rooms.map(room => room.id === currentRoomId ? {\n      ...room,\n      messages: [...room.messages, ...newMessages]\n    } : room);\n    setRooms(updatedRooms);\n    setMessages(prev => [...prev, ...newMessages]);\n    setInput('');\n    setFiles([]);\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') handleSend();\n  };\n  const handleStatusChange = e => {\n    const newStatus = e.target.value;\n    const now = new Date();\n    const statusMessage = {\n      id: messages.length + 1,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"${newStatus}\"(으)로 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    };\n    const updatedRooms = rooms.map(room => room.id === currentRoomId ? {\n      ...room,\n      status: newStatus,\n      messages: [...room.messages, statusMessage]\n    } : room);\n    setRooms(updatedRooms);\n    setMessages(updatedRooms.find(r => r.id === currentRoomId).messages);\n  };\n  const handleScheduleSubmit = () => {\n    if (!scheduleDate || !schedulePlace) {\n      alert('날짜와 장소를 입력하세요.');\n      return;\n    }\n    const now = new Date();\n    const encodedPlace = encodeURIComponent(schedulePlace);\n    const mapUrl = `https://www.google.com/maps?q=${encodedPlace}&output=embed`;\n    const formattedDateTime = scheduleDate.replace('T', ' ').slice(0, 16);\n    const scheduleMessage = {\n      id: messages.length + 1,\n      user: '나',\n      map: mapUrl,\n      scheduleDateTime: formattedDateTime,\n      schedulePlace: schedulePlace,\n      time: now.toISOString(),\n      isMe: true\n    };\n    const systemMessage = {\n      id: messages.length + 2,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"예약중\"으로 자동 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    };\n    const updatedRooms = rooms.map(room => room.id === currentRoomId ? {\n      ...room,\n      messages: [...room.messages, scheduleMessage, systemMessage],\n      scheduleDate,\n      schedulePlace,\n      status: '예약중'\n    } : room);\n    setRooms(updatedRooms);\n    setMessages(updatedRooms.find(r => r.id === currentRoomId).messages);\n    setShowScheduleForm(false);\n    setScheduleDate('');\n    setSchedulePlace('');\n  };\n  const handleScheduleDelete = () => {\n    const now = new Date();\n    const systemMessages = [{\n      id: messages.length + 1,\n      user: '시스템',\n      text: '일정이 삭제되었습니다.',\n      time: now.toISOString(),\n      isMe: false\n    }, {\n      id: messages.length + 2,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"대여중\"으로 자동 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    }];\n    const updatedRooms = rooms.map(room => room.id === currentRoomId ? {\n      ...room,\n      messages: [...room.messages.filter(msg => !msg.map), ...systemMessages],\n      scheduleDate: '',\n      schedulePlace: '',\n      status: '대여중'\n    } : room);\n    setRooms(updatedRooms);\n    setMessages(updatedRooms.find(r => r.id === currentRoomId).messages);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chatpage-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-logo\",\n        onClick: () => navigate('/main'),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"black\",\n          children: \"SPOT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"light animated\",\n          children: \"LIGHT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-room ${room.id === currentRoomId ? 'active' : ''}`,\n        onClick: () => setCurrentRoomId(room.id),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"room-title\",\n          children: room.owner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"room-sub\",\n          children: [room.name, \" \\xB7 \", room.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this)]\n      }, room.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: currentRoom.image,\n          alt: \"\\uC0C1\\uD488\",\n          className: \"product-img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"owner\",\n            children: currentRoom.owner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title\",\n            children: currentRoom.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), currentRoom.scheduleDate && currentRoom.schedulePlace && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"schedule\",\n            children: [\"\\uD83D\\uDCC5 \", currentRoom.scheduleDate.replace('T', ' ').slice(0, 16), \" \\xB7 \\uD83D\\uDCCD \", currentRoom.schedulePlace, /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleScheduleDelete,\n              children: \"\\u274C \\uC0AD\\uC81C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-buttons\",\n          children: ['대여중', '예약중', '대여완료'].map(status => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleStatusChange({\n              target: {\n                value: status\n              }\n            }),\n            className: currentRoom.status === status ? 'active' : '',\n            children: status\n          }, status, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-messages\",\n        children: [messages.map((msg, idx) => {\n          var _messages;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [shouldShowDate(msg.time, idx > 0 ? messages[idx - 1].time : null) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-label\",\n              children: formatDateLabel(msg.time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${msg.isMe ? 'me' : 'other'}`,\n              children: [msg.text && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text\",\n                  children: msg.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this), shouldShowTime(msg.time, (_messages = messages[idx + 1]) === null || _messages === void 0 ? void 0 : _messages.time) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"timestamp\",\n                  children: formatTime(msg.time)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), msg.image && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: msg.image,\n                alt: \"\\uCCA8\\uBD80\",\n                className: \"image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 31\n              }, this), msg.map && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"map-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n                  title: \"\\uC9C0\\uB3C4\",\n                  src: msg.map,\n                  allowFullScreen: true,\n                  loading: \"lazy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"map-info\",\n                  children: [\"\\uD83D\\uDCC5 \", msg.scheduleDateTime, \" \\xB7 \\uD83D\\uDCCD \", msg.schedulePlace]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)]\n          }, msg.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: scrollRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), showScheduleForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"schedule-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          value: scheduleDate,\n          onChange: e => setScheduleDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: schedulePlace,\n          placeholder: \"\\uC7A5\\uC18C \\uC785\\uB825\",\n          onChange: e => setSchedulePlace(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleScheduleSubmit,\n          children: \"\\uB4F1\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowScheduleForm(prev => !prev),\n          children: \"\\uD83D\\uDCC5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: input,\n          placeholder: \"\\uBA54\\uC2DC\\uC9C0 \\uC785\\uB825\",\n          onChange: e => setInput(e.target.value),\n          onKeyDown: handleKeyDown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fileRef.current.click(),\n          children: \"\\uD83D\\uDCF7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileRef,\n          style: {\n            display: 'none'\n          },\n          multiple: true,\n          onChange: e => {\n            const selected = Array.from(e.target.files);\n            if (selected.length) setFiles(selected);\n            fileRef.current.value = null;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSend,\n          children: \"\\uC804\\uC1A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatPage, \"hj39lj6Yj7iw/PjfbQmxHhrojVc=\", false, function () {\n  return [useNavigate];\n});\n_c = ChatPage;\nexport default ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","dummyRooms","id","name","owner","image","status","scheduleDate","schedulePlace","messages","user","text","time","isMe","ChatPage","_s","navigate","rooms","setRooms","currentRoomId","setCurrentRoomId","setMessages","input","setInput","files","setFiles","showScheduleForm","setShowScheduleForm","setScheduleDate","setSchedulePlace","fileRef","scrollRef","currentRoom","find","r","updatedRoom","_scrollRef$current","current","scrollIntoView","behavior","formatDateLabel","isoString","date","Date","getFullYear","String","getMonth","padStart","getDate","formatTime","hours","getHours","minutes","getMinutes","isAM","formattedHour","shouldShowDate","previous","currDate","toDateString","prevDate","shouldShowTime","next","currentTime","toTimeString","slice","nextTime","handleSend","trim","length","now","newMessages","push","toISOString","map","f","i","URL","createObjectURL","updatedRooms","room","prev","handleKeyDown","e","key","handleStatusChange","newStatus","target","value","statusMessage","handleScheduleSubmit","alert","encodedPlace","encodeURIComponent","mapUrl","formattedDateTime","replace","scheduleMessage","scheduleDateTime","systemMessage","handleScheduleDelete","systemMessages","filter","msg","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","idx","_messages","title","allowFullScreen","loading","ref","type","onChange","placeholder","onKeyDown","click","style","display","multiple","selected","Array","from","_c","$RefreshReg$"],"sources":["/Users/hayoon/Desktop/capcode/src/pages/chatPage/chatPage.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../../css/chatPage/chatPage.css';\n\nconst dummyRooms = [\n  {\n    id: 1,\n    name: '찢어진 정장',\n    owner: '김철수',\n    image: '/product.png',\n    status: '대여완료',\n    scheduleDate: '',\n    schedulePlace: '',\n    messages: [\n      {\n        id: 1,\n        user: '상대',\n        text: '네, 판매 중입니다.',\n        time: '2025-05-02T13:24:00',\n        isMe: false\n      },\n      {\n        id: 2,\n        user: '나',\n        text: '내일 직거래 가능할까요?',\n        time: '2025-05-03T13:25:00',\n        isMe: true\n      }\n    ]\n  }\n];\n\nfunction ChatPage() {\n  const navigate = useNavigate();\n  const [rooms, setRooms] = useState(dummyRooms);\n  const [currentRoomId, setCurrentRoomId] = useState(1);\n  const [messages, setMessages] = useState(dummyRooms[0].messages);\n  const [input, setInput] = useState('');\n  const [files, setFiles] = useState([]);\n  const [showScheduleForm, setShowScheduleForm] = useState(false);\n  const [scheduleDate, setScheduleDate] = useState('');\n  const [schedulePlace, setSchedulePlace] = useState('');\n  const fileRef = useRef();\n  const scrollRef = useRef();\n\n  const currentRoom = rooms.find(r => r.id === currentRoomId);\n\n  useEffect(() => {\n    const updatedRoom = rooms.find(r => r.id === currentRoomId);\n    if (updatedRoom) setMessages(updatedRoom.messages);\n  }, [currentRoomId, rooms]);\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const formatDateLabel = (isoString) => {\n    const date = new Date(isoString);\n    return `${date.getFullYear()}년 ${String(date.getMonth() + 1).padStart(2, '0')}월 ${String(date.getDate()).padStart(2, '0')}일`;\n  };\n\n  const formatTime = (isoString) => {\n    const date = new Date(isoString);\n    const hours = date.getHours();\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    const isAM = hours < 12;\n    const formattedHour = hours % 12 || 12;\n    return `${isAM ? '오전' : '오후'} ${formattedHour}:${minutes}`;\n  };\n\n  const shouldShowDate = (current, previous) => {\n    const currDate = new Date(current).toDateString();\n    const prevDate = previous ? new Date(previous).toDateString() : null;\n    return currDate !== prevDate;\n  };\n\n  const shouldShowTime = (current, next) => {\n    if (!next) return true;\n    const currentTime = new Date(current).toTimeString().slice(0, 5);\n    const nextTime = new Date(next).toTimeString().slice(0, 5);\n    return currentTime !== nextTime;\n  };\n\n  const handleSend = () => {\n    if (!input.trim() && files.length === 0) return;\n\n    const now = new Date();\n    const newMessages = [];\n\n    if (input.trim()) {\n      newMessages.push({\n        id: messages.length + newMessages.length + 1,\n        user: '나',\n        text: input,\n        image: null,\n        time: now.toISOString(),\n        isMe: true\n      });\n    }\n\n    if (files.length) {\n      newMessages.push(\n        ...files.map((f, i) => ({\n          id: messages.length + newMessages.length + i + 1,\n          user: '나',\n          text: null,\n          image: URL.createObjectURL(f),\n          time: now.toISOString(),\n          isMe: true\n        }))\n      );\n    }\n\n    const updatedRooms = rooms.map(room =>\n      room.id === currentRoomId\n        ? { ...room, messages: [...room.messages, ...newMessages] }\n        : room\n    );\n\n    setRooms(updatedRooms);\n    setMessages(prev => [...prev, ...newMessages]);\n    setInput('');\n    setFiles([]);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') handleSend();\n  };\n\n  const handleStatusChange = (e) => {\n    const newStatus = e.target.value;\n    const now = new Date();\n    const statusMessage = {\n      id: messages.length + 1,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"${newStatus}\"(으)로 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    };\n\n    const updatedRooms = rooms.map(room =>\n      room.id === currentRoomId\n        ? { ...room, status: newStatus, messages: [...room.messages, statusMessage] }\n        : room\n    );\n\n    setRooms(updatedRooms);\n    setMessages(updatedRooms.find(r => r.id === currentRoomId).messages);\n  };\n\n  const handleScheduleSubmit = () => {\n    if (!scheduleDate || !schedulePlace) {\n      alert('날짜와 장소를 입력하세요.');\n      return;\n    }\n\n    const now = new Date();\n    const encodedPlace = encodeURIComponent(schedulePlace);\n    const mapUrl = `https://www.google.com/maps?q=${encodedPlace}&output=embed`;\n    const formattedDateTime = scheduleDate.replace('T', ' ').slice(0, 16);\n\n    const scheduleMessage = {\n      id: messages.length + 1,\n      user: '나',\n      map: mapUrl,\n      scheduleDateTime: formattedDateTime,\n      schedulePlace: schedulePlace,\n      time: now.toISOString(),\n      isMe: true\n    };\n\n    const systemMessage = {\n      id: messages.length + 2,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"예약중\"으로 자동 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    };\n\n    const updatedRooms = rooms.map(room =>\n      room.id === currentRoomId\n        ? {\n            ...room,\n            messages: [...room.messages, scheduleMessage, systemMessage],\n            scheduleDate,\n            schedulePlace,\n            status: '예약중'\n          }\n        : room\n    );\n\n    setRooms(updatedRooms);\n    setMessages(updatedRooms.find(r => r.id === currentRoomId).messages);\n    setShowScheduleForm(false);\n    setScheduleDate('');\n    setSchedulePlace('');\n  };\n\n  const handleScheduleDelete = () => {\n    const now = new Date();\n    const systemMessages = [\n      {\n        id: messages.length + 1,\n        user: '시스템',\n        text: '일정이 삭제되었습니다.',\n        time: now.toISOString(),\n        isMe: false\n      },\n      {\n        id: messages.length + 2,\n        user: '시스템',\n        text: `\"${currentRoom.name}\"의 상태가 \"대여중\"으로 자동 변경되었습니다.`,\n        time: now.toISOString(),\n        isMe: false\n      }\n    ];\n\n    const updatedRooms = rooms.map(room =>\n      room.id === currentRoomId\n        ? {\n            ...room,\n            messages: [...room.messages.filter(msg => !msg.map), ...systemMessages],\n            scheduleDate: '',\n            schedulePlace: '',\n            status: '대여중'\n          }\n        : room\n    );\n\n    setRooms(updatedRooms);\n    setMessages(updatedRooms.find(r => r.id === currentRoomId).messages);\n  };\n\n  return (\n    <div className=\"chatpage-container\">\n      <div className=\"chat-sidebar\">\n        <div className=\"main-logo\" onClick={() => navigate('/main')}>\n          <span className=\"black\">SPOT</span><span className=\"light animated\">LIGHT</span>\n        </div>\n        {rooms.map(room => (\n          <div\n            key={room.id}\n            className={`chat-room ${room.id === currentRoomId ? 'active' : ''}`}\n            onClick={() => setCurrentRoomId(room.id)}\n          >\n            <div className=\"room-title\">{room.owner}</div>\n            <div className=\"room-sub\">{room.name} · {room.status}</div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"chat-main\">\n        <div className=\"chat-header\">\n          <img src={currentRoom.image} alt=\"상품\" className=\"product-img\" />\n          <div className=\"chat-info\">\n            <div className=\"owner\">{currentRoom.owner}</div>\n            <div className=\"title\">{currentRoom.name}</div>\n            {currentRoom.scheduleDate && currentRoom.schedulePlace && (\n              <div className=\"schedule\">\n                📅 {currentRoom.scheduleDate.replace('T', ' ').slice(0, 16)} · 📍 {currentRoom.schedulePlace}\n                <button onClick={handleScheduleDelete}>❌ 삭제</button>\n              </div>\n            )}\n          </div>\n          <div className=\"status-buttons\">\n            {['대여중', '예약중', '대여완료'].map(status => (\n              <button key={status}\n                onClick={() => handleStatusChange({ target: { value: status } })}\n                className={currentRoom.status === status ? 'active' : ''}>\n                {status}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"chat-messages\">\n          {messages.map((msg, idx) => (\n            <div key={msg.id}>\n              {shouldShowDate(msg.time, idx > 0 ? messages[idx - 1].time : null) && (\n                <div className=\"date-label\">{formatDateLabel(msg.time)}</div>\n              )}\n              <div className={`message ${msg.isMe ? 'me' : 'other'}`}>\n                {msg.text && (\n                  <>\n                    <div className=\"text\">{msg.text}</div>\n                    {shouldShowTime(msg.time, messages[idx + 1]?.time) && (\n                      <div className=\"timestamp\">{formatTime(msg.time)}</div>\n                    )}\n                  </>\n                )}\n                {msg.image && <img src={msg.image} alt=\"첨부\" className=\"image\" />}\n                {msg.map && (\n                  <div className=\"map-container\">\n                    <iframe title=\"지도\" src={msg.map} allowFullScreen loading=\"lazy\" />\n                    <div className=\"map-info\">📅 {msg.scheduleDateTime} · 📍 {msg.schedulePlace}</div>\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n          <div ref={scrollRef} />\n        </div>\n\n        {showScheduleForm && (\n          <div className=\"schedule-form\">\n            <input type=\"datetime-local\" value={scheduleDate} onChange={(e) => setScheduleDate(e.target.value)} />\n            <input type=\"text\" value={schedulePlace} placeholder=\"장소 입력\" onChange={(e) => setSchedulePlace(e.target.value)} />\n            <button onClick={handleScheduleSubmit}>등록</button>\n          </div>\n        )}\n\n        <div className=\"chat-input\">\n          <button onClick={() => setShowScheduleForm(prev => !prev)}>📅</button>\n          <input type=\"text\" value={input} placeholder=\"메시지 입력\" onChange={(e) => setInput(e.target.value)} onKeyDown={handleKeyDown} />\n          <button onClick={() => fileRef.current.click()}>📷</button>\n          <input type=\"file\" ref={fileRef} style={{ display: 'none' }} multiple\n            onChange={(e) => {\n              const selected = Array.from(e.target.files);\n              if (selected.length) setFiles(selected);\n              fileRef.current.value = null;\n            }} />\n          <button onClick={handleSend}>전송</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzC,MAAMC,UAAU,GAAG,CACjB;EACEC,EAAE,EAAE,CAAC;EACLC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,KAAK;EACZC,KAAK,EAAE,cAAc;EACrBC,MAAM,EAAE,MAAM;EACdC,YAAY,EAAE,EAAE;EAChBC,aAAa,EAAE,EAAE;EACjBC,QAAQ,EAAE,CACR;IACEP,EAAE,EAAE,CAAC;IACLQ,IAAI,EAAE,IAAI;IACVC,IAAI,EAAE,aAAa;IACnBC,IAAI,EAAE,qBAAqB;IAC3BC,IAAI,EAAE;EACR,CAAC,EACD;IACEX,EAAE,EAAE,CAAC;IACLQ,IAAI,EAAE,GAAG;IACTC,IAAI,EAAE,eAAe;IACrBC,IAAI,EAAE,qBAAqB;IAC3BC,IAAI,EAAE;EACR,CAAC;AAEL,CAAC,CACF;AAED,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAMC,QAAQ,GAAGpB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACqB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAACQ,UAAU,CAAC;EAC9C,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EACrD,MAAM,CAACgB,QAAQ,EAAEY,WAAW,CAAC,GAAG5B,QAAQ,CAACQ,UAAU,CAAC,CAAC,CAAC,CAACQ,QAAQ,CAAC;EAChE,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC+B,KAAK,EAAEC,QAAQ,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACc,YAAY,EAAEqB,eAAe,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACe,aAAa,EAAEqB,gBAAgB,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAMqC,OAAO,GAAGpC,MAAM,CAAC,CAAC;EACxB,MAAMqC,SAAS,GAAGrC,MAAM,CAAC,CAAC;EAE1B,MAAMsC,WAAW,GAAGf,KAAK,CAACgB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChC,EAAE,KAAKiB,aAAa,CAAC;EAE3DxB,SAAS,CAAC,MAAM;IACd,MAAMwC,WAAW,GAAGlB,KAAK,CAACgB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChC,EAAE,KAAKiB,aAAa,CAAC;IAC3D,IAAIgB,WAAW,EAAEd,WAAW,CAACc,WAAW,CAAC1B,QAAQ,CAAC;EACpD,CAAC,EAAE,CAACU,aAAa,EAAEF,KAAK,CAAC,CAAC;EAE1BtB,SAAS,CAAC,MAAM;IAAA,IAAAyC,kBAAA;IACd,CAAAA,kBAAA,GAAAL,SAAS,CAACM,OAAO,cAAAD,kBAAA,uBAAjBA,kBAAA,CAAmBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAC3D,CAAC,EAAE,CAAC9B,QAAQ,CAAC,CAAC;EAEd,MAAM+B,eAAe,GAAIC,SAAS,IAAK;IACrC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;IAChC,OAAO,GAAGC,IAAI,CAACE,WAAW,CAAC,CAAC,KAAKC,MAAM,CAACH,IAAI,CAACI,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,KAAKF,MAAM,CAACH,IAAI,CAACM,OAAO,CAAC,CAAC,CAAC,CAACD,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG;EAC9H,CAAC;EAED,MAAME,UAAU,GAAIR,SAAS,IAAK;IAChC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;IAChC,MAAMS,KAAK,GAAGR,IAAI,CAACS,QAAQ,CAAC,CAAC;IAC7B,MAAMC,OAAO,GAAGP,MAAM,CAACH,IAAI,CAACW,UAAU,CAAC,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IAC1D,MAAMO,IAAI,GAAGJ,KAAK,GAAG,EAAE;IACvB,MAAMK,aAAa,GAAGL,KAAK,GAAG,EAAE,IAAI,EAAE;IACtC,OAAO,GAAGI,IAAI,GAAG,IAAI,GAAG,IAAI,IAAIC,aAAa,IAAIH,OAAO,EAAE;EAC5D,CAAC;EAED,MAAMI,cAAc,GAAGA,CAACnB,OAAO,EAAEoB,QAAQ,KAAK;IAC5C,MAAMC,QAAQ,GAAG,IAAIf,IAAI,CAACN,OAAO,CAAC,CAACsB,YAAY,CAAC,CAAC;IACjD,MAAMC,QAAQ,GAAGH,QAAQ,GAAG,IAAId,IAAI,CAACc,QAAQ,CAAC,CAACE,YAAY,CAAC,CAAC,GAAG,IAAI;IACpE,OAAOD,QAAQ,KAAKE,QAAQ;EAC9B,CAAC;EAED,MAAMC,cAAc,GAAGA,CAACxB,OAAO,EAAEyB,IAAI,KAAK;IACxC,IAAI,CAACA,IAAI,EAAE,OAAO,IAAI;IACtB,MAAMC,WAAW,GAAG,IAAIpB,IAAI,CAACN,OAAO,CAAC,CAAC2B,YAAY,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAChE,MAAMC,QAAQ,GAAG,IAAIvB,IAAI,CAACmB,IAAI,CAAC,CAACE,YAAY,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1D,OAAOF,WAAW,KAAKG,QAAQ;EACjC,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI,CAAC7C,KAAK,CAAC8C,IAAI,CAAC,CAAC,IAAI5C,KAAK,CAAC6C,MAAM,KAAK,CAAC,EAAE;IAEzC,MAAMC,GAAG,GAAG,IAAI3B,IAAI,CAAC,CAAC;IACtB,MAAM4B,WAAW,GAAG,EAAE;IAEtB,IAAIjD,KAAK,CAAC8C,IAAI,CAAC,CAAC,EAAE;MAChBG,WAAW,CAACC,IAAI,CAAC;QACftE,EAAE,EAAEO,QAAQ,CAAC4D,MAAM,GAAGE,WAAW,CAACF,MAAM,GAAG,CAAC;QAC5C3D,IAAI,EAAE,GAAG;QACTC,IAAI,EAAEW,KAAK;QACXjB,KAAK,EAAE,IAAI;QACXO,IAAI,EAAE0D,GAAG,CAACG,WAAW,CAAC,CAAC;QACvB5D,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;IAEA,IAAIW,KAAK,CAAC6C,MAAM,EAAE;MAChBE,WAAW,CAACC,IAAI,CACd,GAAGhD,KAAK,CAACkD,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,MAAM;QACtB1E,EAAE,EAAEO,QAAQ,CAAC4D,MAAM,GAAGE,WAAW,CAACF,MAAM,GAAGO,CAAC,GAAG,CAAC;QAChDlE,IAAI,EAAE,GAAG;QACTC,IAAI,EAAE,IAAI;QACVN,KAAK,EAAEwE,GAAG,CAACC,eAAe,CAACH,CAAC,CAAC;QAC7B/D,IAAI,EAAE0D,GAAG,CAACG,WAAW,CAAC,CAAC;QACvB5D,IAAI,EAAE;MACR,CAAC,CAAC,CACJ,CAAC;IACH;IAEA,MAAMkE,YAAY,GAAG9D,KAAK,CAACyD,GAAG,CAACM,IAAI,IACjCA,IAAI,CAAC9E,EAAE,KAAKiB,aAAa,GACrB;MAAE,GAAG6D,IAAI;MAAEvE,QAAQ,EAAE,CAAC,GAAGuE,IAAI,CAACvE,QAAQ,EAAE,GAAG8D,WAAW;IAAE,CAAC,GACzDS,IACN,CAAC;IAED9D,QAAQ,CAAC6D,YAAY,CAAC;IACtB1D,WAAW,CAAC4D,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE,GAAGV,WAAW,CAAC,CAAC;IAC9ChD,QAAQ,CAAC,EAAE,CAAC;IACZE,QAAQ,CAAC,EAAE,CAAC;EACd,CAAC;EAED,MAAMyD,aAAa,GAAIC,CAAC,IAAK;IAC3B,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,EAAEjB,UAAU,CAAC,CAAC;EACrC,CAAC;EAED,MAAMkB,kBAAkB,GAAIF,CAAC,IAAK;IAChC,MAAMG,SAAS,GAAGH,CAAC,CAACI,MAAM,CAACC,KAAK;IAChC,MAAMlB,GAAG,GAAG,IAAI3B,IAAI,CAAC,CAAC;IACtB,MAAM8C,aAAa,GAAG;MACpBvF,EAAE,EAAEO,QAAQ,CAAC4D,MAAM,GAAG,CAAC;MACvB3D,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE,IAAIqB,WAAW,CAAC7B,IAAI,WAAWmF,SAAS,gBAAgB;MAC9D1E,IAAI,EAAE0D,GAAG,CAACG,WAAW,CAAC,CAAC;MACvB5D,IAAI,EAAE;IACR,CAAC;IAED,MAAMkE,YAAY,GAAG9D,KAAK,CAACyD,GAAG,CAACM,IAAI,IACjCA,IAAI,CAAC9E,EAAE,KAAKiB,aAAa,GACrB;MAAE,GAAG6D,IAAI;MAAE1E,MAAM,EAAEgF,SAAS;MAAE7E,QAAQ,EAAE,CAAC,GAAGuE,IAAI,CAACvE,QAAQ,EAAEgF,aAAa;IAAE,CAAC,GAC3ET,IACN,CAAC;IAED9D,QAAQ,CAAC6D,YAAY,CAAC;IACtB1D,WAAW,CAAC0D,YAAY,CAAC9C,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChC,EAAE,KAAKiB,aAAa,CAAC,CAACV,QAAQ,CAAC;EACtE,CAAC;EAED,MAAMiF,oBAAoB,GAAGA,CAAA,KAAM;IACjC,IAAI,CAACnF,YAAY,IAAI,CAACC,aAAa,EAAE;MACnCmF,KAAK,CAAC,gBAAgB,CAAC;MACvB;IACF;IAEA,MAAMrB,GAAG,GAAG,IAAI3B,IAAI,CAAC,CAAC;IACtB,MAAMiD,YAAY,GAAGC,kBAAkB,CAACrF,aAAa,CAAC;IACtD,MAAMsF,MAAM,GAAG,iCAAiCF,YAAY,eAAe;IAC3E,MAAMG,iBAAiB,GAAGxF,YAAY,CAACyF,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC/B,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IAErE,MAAMgC,eAAe,GAAG;MACtB/F,EAAE,EAAEO,QAAQ,CAAC4D,MAAM,GAAG,CAAC;MACvB3D,IAAI,EAAE,GAAG;MACTgE,GAAG,EAAEoB,MAAM;MACXI,gBAAgB,EAAEH,iBAAiB;MACnCvF,aAAa,EAAEA,aAAa;MAC5BI,IAAI,EAAE0D,GAAG,CAACG,WAAW,CAAC,CAAC;MACvB5D,IAAI,EAAE;IACR,CAAC;IAED,MAAMsF,aAAa,GAAG;MACpBjG,EAAE,EAAEO,QAAQ,CAAC4D,MAAM,GAAG,CAAC;MACvB3D,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE,IAAIqB,WAAW,CAAC7B,IAAI,4BAA4B;MACtDS,IAAI,EAAE0D,GAAG,CAACG,WAAW,CAAC,CAAC;MACvB5D,IAAI,EAAE;IACR,CAAC;IAED,MAAMkE,YAAY,GAAG9D,KAAK,CAACyD,GAAG,CAACM,IAAI,IACjCA,IAAI,CAAC9E,EAAE,KAAKiB,aAAa,GACrB;MACE,GAAG6D,IAAI;MACPvE,QAAQ,EAAE,CAAC,GAAGuE,IAAI,CAACvE,QAAQ,EAAEwF,eAAe,EAAEE,aAAa,CAAC;MAC5D5F,YAAY;MACZC,aAAa;MACbF,MAAM,EAAE;IACV,CAAC,GACD0E,IACN,CAAC;IAED9D,QAAQ,CAAC6D,YAAY,CAAC;IACtB1D,WAAW,CAAC0D,YAAY,CAAC9C,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChC,EAAE,KAAKiB,aAAa,CAAC,CAACV,QAAQ,CAAC;IACpEkB,mBAAmB,CAAC,KAAK,CAAC;IAC1BC,eAAe,CAAC,EAAE,CAAC;IACnBC,gBAAgB,CAAC,EAAE,CAAC;EACtB,CAAC;EAED,MAAMuE,oBAAoB,GAAGA,CAAA,KAAM;IACjC,MAAM9B,GAAG,GAAG,IAAI3B,IAAI,CAAC,CAAC;IACtB,MAAM0D,cAAc,GAAG,CACrB;MACEnG,EAAE,EAAEO,QAAQ,CAAC4D,MAAM,GAAG,CAAC;MACvB3D,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE,cAAc;MACpBC,IAAI,EAAE0D,GAAG,CAACG,WAAW,CAAC,CAAC;MACvB5D,IAAI,EAAE;IACR,CAAC,EACD;MACEX,EAAE,EAAEO,QAAQ,CAAC4D,MAAM,GAAG,CAAC;MACvB3D,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE,IAAIqB,WAAW,CAAC7B,IAAI,4BAA4B;MACtDS,IAAI,EAAE0D,GAAG,CAACG,WAAW,CAAC,CAAC;MACvB5D,IAAI,EAAE;IACR,CAAC,CACF;IAED,MAAMkE,YAAY,GAAG9D,KAAK,CAACyD,GAAG,CAACM,IAAI,IACjCA,IAAI,CAAC9E,EAAE,KAAKiB,aAAa,GACrB;MACE,GAAG6D,IAAI;MACPvE,QAAQ,EAAE,CAAC,GAAGuE,IAAI,CAACvE,QAAQ,CAAC6F,MAAM,CAACC,GAAG,IAAI,CAACA,GAAG,CAAC7B,GAAG,CAAC,EAAE,GAAG2B,cAAc,CAAC;MACvE9F,YAAY,EAAE,EAAE;MAChBC,aAAa,EAAE,EAAE;MACjBF,MAAM,EAAE;IACV,CAAC,GACD0E,IACN,CAAC;IAED9D,QAAQ,CAAC6D,YAAY,CAAC;IACtB1D,WAAW,CAAC0D,YAAY,CAAC9C,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChC,EAAE,KAAKiB,aAAa,CAAC,CAACV,QAAQ,CAAC;EACtE,CAAC;EAED,oBACEX,OAAA;IAAK0G,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBACjC3G,OAAA;MAAK0G,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B3G,OAAA;QAAK0G,SAAS,EAAC,WAAW;QAACE,OAAO,EAAEA,CAAA,KAAM1F,QAAQ,CAAC,OAAO,CAAE;QAAAyF,QAAA,gBAC1D3G,OAAA;UAAM0G,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAC;QAAI;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAAAhH,OAAA;UAAM0G,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7E,CAAC,EACL7F,KAAK,CAACyD,GAAG,CAACM,IAAI,iBACblF,OAAA;QAEE0G,SAAS,EAAE,aAAaxB,IAAI,CAAC9E,EAAE,KAAKiB,aAAa,GAAG,QAAQ,GAAG,EAAE,EAAG;QACpEuF,OAAO,EAAEA,CAAA,KAAMtF,gBAAgB,CAAC4D,IAAI,CAAC9E,EAAE,CAAE;QAAAuG,QAAA,gBAEzC3G,OAAA;UAAK0G,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAEzB,IAAI,CAAC5E;QAAK;UAAAuG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC9ChH,OAAA;UAAK0G,SAAS,EAAC,UAAU;UAAAC,QAAA,GAAEzB,IAAI,CAAC7E,IAAI,EAAC,QAAG,EAAC6E,IAAI,CAAC1E,MAAM;QAAA;UAAAqG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,GALtD9B,IAAI,CAAC9E,EAAE;QAAAyG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAMT,CACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENhH,OAAA;MAAK0G,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxB3G,OAAA;QAAK0G,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B3G,OAAA;UAAKiH,GAAG,EAAE/E,WAAW,CAAC3B,KAAM;UAAC2G,GAAG,EAAC,cAAI;UAACR,SAAS,EAAC;QAAa;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAChEhH,OAAA;UAAK0G,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxB3G,OAAA;YAAK0G,SAAS,EAAC,OAAO;YAAAC,QAAA,EAAEzE,WAAW,CAAC5B;UAAK;YAAAuG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChDhH,OAAA;YAAK0G,SAAS,EAAC,OAAO;YAAAC,QAAA,EAAEzE,WAAW,CAAC7B;UAAI;YAAAwG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAC9C9E,WAAW,CAACzB,YAAY,IAAIyB,WAAW,CAACxB,aAAa,iBACpDV,OAAA;YAAK0G,SAAS,EAAC,UAAU;YAAAC,QAAA,GAAC,eACrB,EAACzE,WAAW,CAACzB,YAAY,CAACyF,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC/B,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,EAAC,qBAAM,EAACjC,WAAW,CAACxB,aAAa,eAC5FV,OAAA;cAAQ4G,OAAO,EAAEN,oBAAqB;cAAAK,QAAA,EAAC;YAAI;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACNhH,OAAA;UAAK0G,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAC5B,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC/B,GAAG,CAACpE,MAAM,iBAChCR,OAAA;YACE4G,OAAO,EAAEA,CAAA,KAAMrB,kBAAkB,CAAC;cAAEE,MAAM,EAAE;gBAAEC,KAAK,EAAElF;cAAO;YAAE,CAAC,CAAE;YACjEkG,SAAS,EAAExE,WAAW,CAAC1B,MAAM,KAAKA,MAAM,GAAG,QAAQ,GAAG,EAAG;YAAAmG,QAAA,EACxDnG;UAAM,GAHIA,MAAM;YAAAqG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAIX,CACT;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENhH,OAAA;QAAK0G,SAAS,EAAC,eAAe;QAAAC,QAAA,GAC3BhG,QAAQ,CAACiE,GAAG,CAAC,CAAC6B,GAAG,EAAEU,GAAG;UAAA,IAAAC,SAAA;UAAA,oBACrBpH,OAAA;YAAA2G,QAAA,GACGjD,cAAc,CAAC+C,GAAG,CAAC3F,IAAI,EAAEqG,GAAG,GAAG,CAAC,GAAGxG,QAAQ,CAACwG,GAAG,GAAG,CAAC,CAAC,CAACrG,IAAI,GAAG,IAAI,CAAC,iBAChEd,OAAA;cAAK0G,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAEjE,eAAe,CAAC+D,GAAG,CAAC3F,IAAI;YAAC;cAAA+F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAC7D,eACDhH,OAAA;cAAK0G,SAAS,EAAE,WAAWD,GAAG,CAAC1F,IAAI,GAAG,IAAI,GAAG,OAAO,EAAG;cAAA4F,QAAA,GACpDF,GAAG,CAAC5F,IAAI,iBACPb,OAAA,CAAAE,SAAA;gBAAAyG,QAAA,gBACE3G,OAAA;kBAAK0G,SAAS,EAAC,MAAM;kBAAAC,QAAA,EAAEF,GAAG,CAAC5F;gBAAI;kBAAAgG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,EACrCjD,cAAc,CAAC0C,GAAG,CAAC3F,IAAI,GAAAsG,SAAA,GAAEzG,QAAQ,CAACwG,GAAG,GAAG,CAAC,CAAC,cAAAC,SAAA,uBAAjBA,SAAA,CAAmBtG,IAAI,CAAC,iBAChDd,OAAA;kBAAK0G,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAExD,UAAU,CAACsD,GAAG,CAAC3F,IAAI;gBAAC;kBAAA+F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CACvD;cAAA,eACD,CACH,EACAP,GAAG,CAAClG,KAAK,iBAAIP,OAAA;gBAAKiH,GAAG,EAAER,GAAG,CAAClG,KAAM;gBAAC2G,GAAG,EAAC,cAAI;gBAACR,SAAS,EAAC;cAAO;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAC/DP,GAAG,CAAC7B,GAAG,iBACN5E,OAAA;gBAAK0G,SAAS,EAAC,eAAe;gBAAAC,QAAA,gBAC5B3G,OAAA;kBAAQqH,KAAK,EAAC,cAAI;kBAACJ,GAAG,EAAER,GAAG,CAAC7B,GAAI;kBAAC0C,eAAe;kBAACC,OAAO,EAAC;gBAAM;kBAAAV,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAClEhH,OAAA;kBAAK0G,SAAS,EAAC,UAAU;kBAAAC,QAAA,GAAC,eAAG,EAACF,GAAG,CAACL,gBAAgB,EAAC,qBAAM,EAACK,GAAG,CAAC/F,aAAa;gBAAA;kBAAAmG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/E,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA,GApBEP,GAAG,CAACrG,EAAE;YAAAyG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAqBX,CAAC;QAAA,CACP,CAAC,eACFhH,OAAA;UAAKwH,GAAG,EAAEvF;QAAU;UAAA4E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpB,CAAC,EAELpF,gBAAgB,iBACf5B,OAAA;QAAK0G,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B3G,OAAA;UAAOyH,IAAI,EAAC,gBAAgB;UAAC/B,KAAK,EAAEjF,YAAa;UAACiH,QAAQ,EAAGrC,CAAC,IAAKvD,eAAe,CAACuD,CAAC,CAACI,MAAM,CAACC,KAAK;QAAE;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACtGhH,OAAA;UAAOyH,IAAI,EAAC,MAAM;UAAC/B,KAAK,EAAEhF,aAAc;UAACiH,WAAW,EAAC,2BAAO;UAACD,QAAQ,EAAGrC,CAAC,IAAKtD,gBAAgB,CAACsD,CAAC,CAACI,MAAM,CAACC,KAAK;QAAE;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAClHhH,OAAA;UAAQ4G,OAAO,EAAEhB,oBAAqB;UAAAe,QAAA,EAAC;QAAE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CACN,eAEDhH,OAAA;QAAK0G,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzB3G,OAAA;UAAQ4G,OAAO,EAAEA,CAAA,KAAM/E,mBAAmB,CAACsD,IAAI,IAAI,CAACA,IAAI,CAAE;UAAAwB,QAAA,EAAC;QAAE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtEhH,OAAA;UAAOyH,IAAI,EAAC,MAAM;UAAC/B,KAAK,EAAElE,KAAM;UAACmG,WAAW,EAAC,iCAAQ;UAACD,QAAQ,EAAGrC,CAAC,IAAK5D,QAAQ,CAAC4D,CAAC,CAACI,MAAM,CAACC,KAAK,CAAE;UAACkC,SAAS,EAAExC;QAAc;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7HhH,OAAA;UAAQ4G,OAAO,EAAEA,CAAA,KAAM5E,OAAO,CAACO,OAAO,CAACsF,KAAK,CAAC,CAAE;UAAAlB,QAAA,EAAC;QAAE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC3DhH,OAAA;UAAOyH,IAAI,EAAC,MAAM;UAACD,GAAG,EAAExF,OAAQ;UAAC8F,KAAK,EAAE;YAAEC,OAAO,EAAE;UAAO,CAAE;UAACC,QAAQ;UACnEN,QAAQ,EAAGrC,CAAC,IAAK;YACf,MAAM4C,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAAC9C,CAAC,CAACI,MAAM,CAAC/D,KAAK,CAAC;YAC3C,IAAIuG,QAAQ,CAAC1D,MAAM,EAAE5C,QAAQ,CAACsG,QAAQ,CAAC;YACvCjG,OAAO,CAACO,OAAO,CAACmD,KAAK,GAAG,IAAI;UAC9B;QAAE;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACPhH,OAAA;UAAQ4G,OAAO,EAAEvC,UAAW;UAAAsC,QAAA,EAAC;QAAE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/F,EAAA,CAtSQD,QAAQ;EAAA,QACElB,WAAW;AAAA;AAAAsI,EAAA,GADrBpH,QAAQ;AAwSjB,eAAeA,QAAQ;AAAC,IAAAoH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
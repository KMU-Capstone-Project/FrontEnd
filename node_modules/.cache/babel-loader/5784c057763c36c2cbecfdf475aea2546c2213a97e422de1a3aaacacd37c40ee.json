{"ast":null,"code":"var _jsxFileName = \"/Users/hayoon/Desktop/capcode/src/pages/chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dummyRooms = [{\n  id: 1,\n  name: '찢어진 정장',\n  owner: '김철수',\n  image: '/product.png',\n  status: '대여중',\n  scheduleDate: '',\n  schedulePlace: '',\n  messages: [{\n    id: 1,\n    user: '상대',\n    text: '네, 판매 중입니다.',\n    time: '2025-05-02T13:24:00',\n    isMe: false\n  }, {\n    id: 2,\n    user: '나',\n    text: '내일 직거래 가능할까요?',\n    time: '2025-05-03T13:25:00',\n    isMe: true\n  }]\n}];\n\n// 전체 ChatPage 컴포넌트 코드\nfunction ChatPage() {\n  _s();\n  const navigate = useNavigate();\n  const [rooms, setRooms] = useState(dummyRooms);\n  const [currentRoomId, setCurrentRoomId] = useState(1);\n  const [messages, setMessages] = useState(dummyRooms[0].messages);\n  const [input, setInput] = useState('');\n  const [files, setFiles] = useState([]);\n  const [showScheduleForm, setShowScheduleForm] = useState(false);\n  const [scheduleDate, setScheduleDate] = useState('');\n  const [schedulePlace, setSchedulePlace] = useState('');\n  const fileRef = useRef();\n  const scrollRef = useRef();\n  const currentRoom = rooms.find(r => r.id === currentRoomId);\n  useEffect(() => {\n    const updatedRoom = rooms.find(r => r.id === currentRoomId);\n    if (updatedRoom) setMessages(updatedRoom.messages);\n  }, [currentRoomId, rooms]);\n  useEffect(() => {\n    var _scrollRef$current;\n    (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const formatDateLabel = isoString => {\n    const date = new Date(isoString);\n    return `${date.getFullYear()}년 ${String(date.getMonth() + 1).padStart(2, '0')}월 ${String(date.getDate()).padStart(2, '0')}일`;\n  };\n  const shouldShowDate = (current, previous) => {\n    const currDate = new Date(current).toDateString();\n    const prevDate = previous ? new Date(previous).toDateString() : null;\n    return currDate !== prevDate;\n  };\n  const handleSend = () => {\n    if (!input.trim() && files.length === 0) return;\n    const now = new Date();\n    const newMessages = [];\n    if (input.trim()) {\n      newMessages.push({\n        id: messages.length + newMessages.length + 1,\n        user: '나',\n        text: input,\n        image: null,\n        time: now.toISOString(),\n        isMe: true\n      });\n    }\n    if (files.length) {\n      newMessages.push(...files.map((f, i) => ({\n        id: messages.length + newMessages.length + i + 1,\n        user: '나',\n        text: null,\n        image: URL.createObjectURL(f),\n        time: now.toISOString(),\n        isMe: true\n      })));\n    }\n    const updatedRooms = rooms.map(room => room.id === currentRoomId ? {\n      ...room,\n      messages: [...room.messages, ...newMessages]\n    } : room);\n    setRooms(updatedRooms);\n    setMessages(prev => [...prev, ...newMessages]);\n    setInput('');\n    setFiles([]);\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') handleSend();\n  };\n  const handleStatusChange = e => {\n    const newStatus = e.target.value;\n    const now = new Date();\n    const statusMessage = {\n      id: messages.length + 1,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"${newStatus}\"(으)로 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    };\n    const updatedRooms = rooms.map(room => {\n      if (room.id === currentRoomId) {\n        const updatedMessages = [...room.messages, statusMessage];\n        return {\n          ...room,\n          status: newStatus,\n          messages: updatedMessages\n        };\n      }\n      return room;\n    });\n    setRooms(updatedRooms);\n    const updatedCurrentRoom = updatedRooms.find(r => r.id === currentRoomId);\n    setMessages(updatedCurrentRoom.messages);\n  };\n  const handleScheduleSubmit = () => {\n    if (!scheduleDate || !schedulePlace) {\n      alert('날짜와 장소를 입력하세요.');\n      return;\n    }\n    const now = new Date();\n    const encodedPlace = encodeURIComponent(schedulePlace);\n    const mapUrl = `https://www.google.com/maps?q=${encodedPlace}&output=embed`;\n    const formattedDateTime = scheduleDate.replace('T', ' ').slice(0, 16);\n    const scheduleMessage = {\n      id: messages.length + 1,\n      user: '나',\n      text: null,\n      map: mapUrl,\n      scheduleDateTime: formattedDateTime,\n      schedulePlace: schedulePlace,\n      time: now.toISOString(),\n      isMe: true\n    };\n    const systemMessage = {\n      id: messages.length + 2,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"예약중\"으로 자동 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    };\n    const updatedRooms = rooms.map(room => room.id === currentRoomId ? {\n      ...room,\n      messages: [...room.messages, scheduleMessage, systemMessage],\n      scheduleDate,\n      schedulePlace,\n      status: '예약중'\n    } : room);\n    setRooms(updatedRooms);\n    const updatedCurrentRoom = updatedRooms.find(r => r.id === currentRoomId);\n    setMessages(updatedCurrentRoom.messages);\n    setShowScheduleForm(false);\n    setScheduleDate('');\n    setSchedulePlace('');\n  };\n  const handleScheduleDelete = () => {\n    const now = new Date();\n    const systemMessage1 = {\n      id: messages.length + 1,\n      user: '시스템',\n      text: '일정이 삭제되었습니다.',\n      time: now.toISOString(),\n      isMe: false\n    };\n    const updatedRooms = rooms.map(room => {\n      if (room.id === currentRoomId) {\n        const filteredMessages = room.messages.filter(msg => !msg.map);\n        return {\n          ...room,\n          scheduleDate: '',\n          schedulePlace: '',\n          status: '대여중',\n          messages: [...filteredMessages, systemMessage1, {\n            id: filteredMessages.length + 2,\n            user: '시스템',\n            text: `\"${room.name}\"의 상태가 \"대여중\"으로 자동 변경되었습니다.`,\n            time: now.toISOString(),\n            isMe: false\n          }]\n        };\n      }\n      return room;\n    });\n    setRooms(updatedRooms);\n    const updatedCurrentRoom = updatedRooms.find(r => r.id === currentRoomId);\n    setMessages(updatedCurrentRoom.messages);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '50%',\n        borderRight: '1px solid #ccc',\n        padding: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          marginBottom: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-logo\",\n          onClick: () => navigate('/main'),\n          style: {\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"black\",\n            children: \"SPOT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"light animated\",\n            children: \"LIGHT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setCurrentRoomId(room.id),\n        style: {\n          padding: '10px',\n          backgroundColor: currentRoomId === room.id ? '#fef08a' : '',\n          cursor: 'pointer'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: room.owner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 42\n        }, this), room.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 24\n        }, this), \"\\uC0C1\\uD0DC: \", room.status]\n      }, room.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '10px',\n          borderBottom: '1px solid #ccc',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: currentRoom.image,\n            alt: \"\\uC0C1\\uD488\",\n            style: {\n              width: '40px',\n              height: '40px',\n              borderRadius: '8px',\n              marginRight: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold',\n                fontSize: '14px',\n                color: '#555'\n              },\n              children: currentRoom.owner\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '18px',\n                fontWeight: 'bold'\n              },\n              children: currentRoom.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), currentRoom.scheduleDate && currentRoom.schedulePlace && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '14px',\n                color: '#666',\n                marginTop: '4px'\n              },\n              children: [\"\\uD83D\\uDCC5 \", currentRoom.scheduleDate.replace('T', ' ').slice(0, 16), \" \\xB7 \\uD83D\\uDCCD \", currentRoom.schedulePlace, /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleScheduleDelete,\n                style: {\n                  marginLeft: '10px',\n                  fontSize: '12px',\n                  color: 'red',\n                  background: 'none',\n                  border: 'none',\n                  cursor: 'pointer'\n                },\n                children: \"\\u274C \\uC0AD\\uC81C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '8px'\n          },\n          children: ['대여중', '예약중', '대여완료'].map(status => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleStatusChange({\n              target: {\n                value: status\n              }\n            }),\n            style: {\n              padding: '6px 12px',\n              fontSize: '14px',\n              border: currentRoom.status === status ? '2px solid #555' : '1px solid #ccc',\n              backgroundColor: currentRoom.status === status ? '#fef08a' : '#fff',\n              borderRadius: '6px',\n              cursor: 'pointer'\n            },\n            children: status\n          }, status, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          padding: '10px'\n        },\n        children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [shouldShowDate(msg.time, idx > 0 ? messages[idx - 1].time : null) && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              margin: '10px 0',\n              fontSize: '12px',\n              color: '#888'\n            },\n            children: formatDateLabel(msg.time)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: msg.isMe ? 'right' : 'left',\n              margin: '4px 0'\n            },\n            children: [msg.text && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'inline-block',\n                background: msg.isMe ? '#fef08a' : '#eee',\n                padding: '8px 12px',\n                borderRadius: '12px',\n                maxWidth: '60%',\n                whiteSpace: 'pre-wrap'\n              },\n              children: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 19\n            }, this), msg.image && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: msg.image,\n                alt: \"\\uCCA8\\uBD80 \\uC774\\uBBF8\\uC9C0\",\n                style: {\n                  maxWidth: '200px',\n                  borderRadius: '8px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 19\n            }, this), msg.map && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n                title: \"\\uC9C0\\uB3C4\",\n                src: msg.map,\n                width: \"300\",\n                height: \"150\",\n                style: {\n                  borderRadius: '8px'\n                },\n                allowFullScreen: \"\",\n                loading: \"lazy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this), msg.scheduleDateTime && msg.schedulePlace && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '13px',\n                  color: '#555',\n                  marginTop: '4px'\n                },\n                children: [\"\\uD83D\\uDCC5 \", msg.scheduleDateTime, \" \\xB7 \\uD83D\\uDCCD \", msg.schedulePlace]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this)]\n        }, msg.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: scrollRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), showScheduleForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '10px',\n          backgroundColor: '#f9f9f9',\n          borderTop: '1px solid #ddd'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          value: scheduleDate,\n          onChange: e => setScheduleDate(e.target.value),\n          style: {\n            marginRight: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uC7A5\\uC18C \\uC785\\uB825\",\n          value: schedulePlace,\n          onChange: e => setSchedulePlace(e.target.value),\n          style: {\n            marginRight: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleScheduleSubmit,\n          children: \"\\uB4F1\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          padding: '10px',\n          borderTop: '1px solid #ccc',\n          gap: '8px',\n          flexShrink: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowScheduleForm(prev => !prev),\n          children: \"\\uD83D\\uDCC5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative',\n            flexGrow: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\uC5F0\\uB77D\\uC744 \\uD1B5\\uD574 \\uB300\\uC5EC\\uB97C \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694.\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: handleKeyDown,\n            style: {\n              width: '100%',\n              padding: '8px 40px 8px 12px',\n              borderRadius: '8px',\n              border: '1px solid #ccc',\n              boxSizing: 'border-box'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => fileRef.current.click(),\n            style: {\n              position: 'absolute',\n              right: '8px',\n              top: '40%',\n              transform: 'translateY(-50%)',\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: '18px'\n            },\n            children: \"\\uD83D\\uDCF7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileRef,\n            style: {\n              display: 'none'\n            },\n            multiple: true,\n            onChange: e => {\n              const selectedFiles = Array.from(e.target.files);\n              if (selectedFiles.length) setFiles(selectedFiles);\n              fileRef.current.value = null;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSend,\n          style: {\n            padding: '8px 12px'\n          },\n          children: \"\\uC804\\uC1A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatPage, \"hj39lj6Yj7iw/PjfbQmxHhrojVc=\", false, function () {\n  return [useNavigate];\n});\n_c = ChatPage;\nexport default ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","jsxDEV","_jsxDEV","dummyRooms","id","name","owner","image","status","scheduleDate","schedulePlace","messages","user","text","time","isMe","ChatPage","_s","navigate","rooms","setRooms","currentRoomId","setCurrentRoomId","setMessages","input","setInput","files","setFiles","showScheduleForm","setShowScheduleForm","setScheduleDate","setSchedulePlace","fileRef","scrollRef","currentRoom","find","r","updatedRoom","_scrollRef$current","current","scrollIntoView","behavior","formatDateLabel","isoString","date","Date","getFullYear","String","getMonth","padStart","getDate","shouldShowDate","previous","currDate","toDateString","prevDate","handleSend","trim","length","now","newMessages","push","toISOString","map","f","i","URL","createObjectURL","updatedRooms","room","prev","handleKeyDown","e","key","handleStatusChange","newStatus","target","value","statusMessage","updatedMessages","updatedCurrentRoom","handleScheduleSubmit","alert","encodedPlace","encodeURIComponent","mapUrl","formattedDateTime","replace","slice","scheduleMessage","scheduleDateTime","systemMessage","handleScheduleDelete","systemMessage1","filteredMessages","filter","msg","style","display","height","children","width","borderRight","padding","justifyContent","marginBottom","className","onClick","cursor","fileName","_jsxFileName","lineNumber","columnNumber","backgroundColor","flex","flexDirection","borderBottom","alignItems","src","alt","borderRadius","marginRight","fontWeight","fontSize","color","marginTop","marginLeft","background","border","gap","overflowY","idx","textAlign","margin","maxWidth","whiteSpace","title","allowFullScreen","loading","ref","borderTop","type","onChange","placeholder","flexShrink","position","flexGrow","onKeyDown","boxSizing","click","right","top","transform","multiple","selectedFiles","Array","from","_c","$RefreshReg$"],"sources":["/Users/hayoon/Desktop/capcode/src/pages/chat.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './chat.css';\n\nconst dummyRooms = [\n  {\n    id: 1,\n    name: '찢어진 정장',\n    owner: '김철수',\n    image: '/product.png',\n    status: '대여중',\n    scheduleDate: '',\n    schedulePlace: '',\n    messages: [\n      {\n        id: 1,\n        user: '상대',\n        text: '네, 판매 중입니다.',\n        time: '2025-05-02T13:24:00',\n        isMe: false\n      },\n      {\n        id: 2,\n        user: '나',\n        text: '내일 직거래 가능할까요?',\n        time: '2025-05-03T13:25:00',\n        isMe: true\n      }\n    ]\n  }\n];\n\n// 전체 ChatPage 컴포넌트 코드\nfunction ChatPage() {\n  const navigate = useNavigate();\n  const [rooms, setRooms] = useState(dummyRooms);\n  const [currentRoomId, setCurrentRoomId] = useState(1);\n  const [messages, setMessages] = useState(dummyRooms[0].messages);\n  const [input, setInput] = useState('');\n  const [files, setFiles] = useState([]);\n  const [showScheduleForm, setShowScheduleForm] = useState(false);\n  const [scheduleDate, setScheduleDate] = useState('');\n  const [schedulePlace, setSchedulePlace] = useState('');\n  const fileRef = useRef();\n  const scrollRef = useRef();\n\n  const currentRoom = rooms.find(r => r.id === currentRoomId);\n\n  useEffect(() => {\n    const updatedRoom = rooms.find(r => r.id === currentRoomId);\n    if (updatedRoom) setMessages(updatedRoom.messages);\n  }, [currentRoomId, rooms]);\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const formatDateLabel = (isoString) => {\n    const date = new Date(isoString);\n    return `${date.getFullYear()}년 ${String(date.getMonth() + 1).padStart(2, '0')}월 ${String(date.getDate()).padStart(2, '0')}일`;\n  };\n\n  const shouldShowDate = (current, previous) => {\n    const currDate = new Date(current).toDateString();\n    const prevDate = previous ? new Date(previous).toDateString() : null;\n    return currDate !== prevDate;\n  };\n\n  const handleSend = () => {\n    if (!input.trim() && files.length === 0) return;\n\n    const now = new Date();\n    const newMessages = [];\n\n    if (input.trim()) {\n      newMessages.push({\n        id: messages.length + newMessages.length + 1,\n        user: '나',\n        text: input,\n        image: null,\n        time: now.toISOString(),\n        isMe: true\n      });\n    }\n\n    if (files.length) {\n      newMessages.push(\n        ...files.map((f, i) => ({\n          id: messages.length + newMessages.length + i + 1,\n          user: '나',\n          text: null,\n          image: URL.createObjectURL(f),\n          time: now.toISOString(),\n          isMe: true\n        }))\n      );\n    }\n\n    const updatedRooms = rooms.map(room =>\n      room.id === currentRoomId\n        ? { ...room, messages: [...room.messages, ...newMessages] }\n        : room\n    );\n\n    setRooms(updatedRooms);\n    setMessages(prev => [...prev, ...newMessages]);\n    setInput('');\n    setFiles([]);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') handleSend();\n  };\n\n  const handleStatusChange = (e) => {\n    const newStatus = e.target.value;\n    const now = new Date();\n    const statusMessage = {\n      id: messages.length + 1,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"${newStatus}\"(으)로 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    };\n\n    const updatedRooms = rooms.map(room => {\n      if (room.id === currentRoomId) {\n        const updatedMessages = [...room.messages, statusMessage];\n        return { ...room, status: newStatus, messages: updatedMessages };\n      }\n      return room;\n    });\n\n    setRooms(updatedRooms);\n    const updatedCurrentRoom = updatedRooms.find(r => r.id === currentRoomId);\n    setMessages(updatedCurrentRoom.messages);\n  };\n\n  const handleScheduleSubmit = () => {\n    if (!scheduleDate || !schedulePlace) {\n      alert('날짜와 장소를 입력하세요.');\n      return;\n    }\n\n    const now = new Date();\n    const encodedPlace = encodeURIComponent(schedulePlace);\n    const mapUrl = `https://www.google.com/maps?q=${encodedPlace}&output=embed`;\n    const formattedDateTime = scheduleDate.replace('T', ' ').slice(0, 16);\n\n    const scheduleMessage = {\n      id: messages.length + 1,\n      user: '나',\n      text: null,\n      map: mapUrl,\n      scheduleDateTime: formattedDateTime,\n      schedulePlace: schedulePlace,\n      time: now.toISOString(),\n      isMe: true\n    };\n\n    const systemMessage = {\n      id: messages.length + 2,\n      user: '시스템',\n      text: `\"${currentRoom.name}\"의 상태가 \"예약중\"으로 자동 변경되었습니다.`,\n      time: now.toISOString(),\n      isMe: false\n    };\n\n    const updatedRooms = rooms.map(room =>\n      room.id === currentRoomId\n        ? {\n            ...room,\n            messages: [...room.messages, scheduleMessage, systemMessage],\n            scheduleDate,\n            schedulePlace,\n            status: '예약중'\n          }\n        : room\n    );\n\n    setRooms(updatedRooms);\n    const updatedCurrentRoom = updatedRooms.find(r => r.id === currentRoomId);\n    setMessages(updatedCurrentRoom.messages);\n    setShowScheduleForm(false);\n    setScheduleDate('');\n    setSchedulePlace('');\n  };\n\n  const handleScheduleDelete = () => {\n    const now = new Date();\n    const systemMessage1 = {\n      id: messages.length + 1,\n      user: '시스템',\n      text: '일정이 삭제되었습니다.',\n      time: now.toISOString(),\n      isMe: false\n    };\n\n    const updatedRooms = rooms.map(room => {\n      if (room.id === currentRoomId) {\n        const filteredMessages = room.messages.filter(msg => !msg.map);\n        return {\n          ...room,\n          scheduleDate: '',\n          schedulePlace: '',\n          status: '대여중',\n          messages: [\n            ...filteredMessages,\n            systemMessage1,\n            {\n              id: filteredMessages.length + 2,\n              user: '시스템',\n              text: `\"${room.name}\"의 상태가 \"대여중\"으로 자동 변경되었습니다.`,\n              time: now.toISOString(),\n              isMe: false\n            }\n          ]\n        };\n      }\n      return room;\n    });\n\n    setRooms(updatedRooms);\n    const updatedCurrentRoom = updatedRooms.find(r => r.id === currentRoomId);\n    setMessages(updatedCurrentRoom.messages);\n  };\n\n  return (\n    <div style={{ display: 'flex', height: '100vh' }}>\n      <div style={{ width: '50%', borderRight: '1px solid #ccc', padding: '10px' }}>\n        <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '10px' }}>\n          <div className=\"main-logo\" onClick={() => navigate('/main')} style={{ cursor: 'pointer' }}>\n            <span className=\"black\">SPOT</span>\n            <span className=\"light animated\">LIGHT</span>\n          </div>\n        </div>\n        {rooms.map(room => (\n          <div key={room.id} onClick={() => setCurrentRoomId(room.id)}\n            style={{ padding: '10px', backgroundColor: currentRoomId === room.id ? '#fef08a' : '', cursor: 'pointer' }}>\n            <strong>{room.owner}</strong><br />\n            {room.name}<br />\n            상태: {room.status}\n          </div>\n        ))}\n      </div>\n\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n        <div style={{\n          padding: '10px',\n          borderBottom: '1px solid #ccc',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center' }}>\n            <img src={currentRoom.image} alt=\"상품\" style={{ width: '40px', height: '40px', borderRadius: '8px', marginRight: '10px' }} />\n            <div>\n              <div style={{ fontWeight: 'bold', fontSize: '14px', color: '#555' }}>{currentRoom.owner}</div>\n              <div style={{ fontSize: '18px', fontWeight: 'bold' }}>{currentRoom.name}</div>\n              {currentRoom.scheduleDate && currentRoom.schedulePlace && (\n                <div style={{ fontSize: '14px', color: '#666', marginTop: '4px' }}>\n                  📅 {currentRoom.scheduleDate.replace('T', ' ').slice(0, 16)} · 📍 {currentRoom.schedulePlace}\n                  <button\n                    onClick={handleScheduleDelete}\n                    style={{ marginLeft: '10px', fontSize: '12px', color: 'red', background: 'none', border: 'none', cursor: 'pointer' }}\n                  >\n                    ❌ 삭제\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n          <div style={{ display: 'flex', gap: '8px' }}>\n            {['대여중', '예약중', '대여완료'].map(status => (\n              <button\n                key={status}\n                onClick={() => handleStatusChange({ target: { value: status } })}\n                style={{\n                  padding: '6px 12px',\n                  fontSize: '14px',\n                  border: currentRoom.status === status ? '2px solid #555' : '1px solid #ccc',\n                  backgroundColor: currentRoom.status === status ? '#fef08a' : '#fff',\n                  borderRadius: '6px',\n                  cursor: 'pointer'\n                }}\n              >\n                {status}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div style={{ flex: 1, overflowY: 'auto', padding: '10px' }}>\n          {messages.map((msg, idx) => (\n            <div key={msg.id}>\n              {shouldShowDate(msg.time, idx > 0 ? messages[idx - 1].time : null) && (\n                <div style={{ textAlign: 'center', margin: '10px 0', fontSize: '12px', color: '#888' }}>\n                  {formatDateLabel(msg.time)}\n                </div>\n              )}\n              <div style={{ textAlign: msg.isMe ? 'right' : 'left', margin: '4px 0' }}>\n                {msg.text && (\n                  <div style={{\n                    display: 'inline-block',\n                    background: msg.isMe ? '#fef08a' : '#eee',\n                    padding: '8px 12px',\n                    borderRadius: '12px',\n                    maxWidth: '60%',\n                    whiteSpace: 'pre-wrap'\n                  }}>\n                    {msg.text}\n                  </div>\n                )}\n                {msg.image && (\n                  <div style={{ marginTop: '8px' }}>\n                    <img src={msg.image} alt=\"첨부 이미지\" style={{ maxWidth: '200px', borderRadius: '8px' }} />\n                  </div>\n                )}\n                {msg.map && (\n                  <div style={{ marginTop: '8px' }}>\n                    <iframe\n                      title=\"지도\"\n                      src={msg.map}\n                      width=\"300\"\n                      height=\"150\"\n                      style={{ borderRadius: '8px' }}\n                      allowFullScreen=\"\"\n                      loading=\"lazy\"\n                    />\n                    {msg.scheduleDateTime && msg.schedulePlace && (\n                      <div style={{ fontSize: '13px', color: '#555', marginTop: '4px' }}>\n                        📅 {msg.scheduleDateTime} · 📍 {msg.schedulePlace}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n          <div ref={scrollRef} />\n        </div>\n\n        {showScheduleForm && (\n          <div style={{ padding: '10px', backgroundColor: '#f9f9f9', borderTop: '1px solid #ddd' }}>\n            <input type=\"datetime-local\" value={scheduleDate} onChange={(e) => setScheduleDate(e.target.value)} style={{ marginRight: '10px' }} />\n            <input type=\"text\" placeholder=\"장소 입력\" value={schedulePlace} onChange={(e) => setSchedulePlace(e.target.value)} style={{ marginRight: '10px' }} />\n            <button onClick={handleScheduleSubmit}>등록</button>\n          </div>\n        )}\n\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          padding: '10px',\n          borderTop: '1px solid #ccc',\n          gap: '8px',\n          flexShrink: 0\n        }}>\n          <button onClick={() => setShowScheduleForm(prev => !prev)}>📅</button>\n          <div style={{ position: 'relative', flexGrow: 1 }}>\n            <input\n              type=\"text\"\n              placeholder=\"연락을 통해 대여를 시작해보세요.\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={handleKeyDown}\n              style={{\n                width: '100%',\n                padding: '8px 40px 8px 12px',\n                borderRadius: '8px',\n                border: '1px solid #ccc',\n                boxSizing: 'border-box'\n              }}\n            />\n            <button\n              onClick={() => fileRef.current.click()}\n              style={{\n                position: 'absolute',\n                right: '8px',\n                top: '40%',\n                transform: 'translateY(-50%)',\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n                fontSize: '18px'\n              }}\n            >\n              📷\n            </button>\n            <input\n              type=\"file\"\n              ref={fileRef}\n              style={{ display: 'none' }}\n              multiple\n              onChange={(e) => {\n                const selectedFiles = Array.from(e.target.files);\n                if (selectedFiles.length) setFiles(selectedFiles);\n                fileRef.current.value = null;\n              }}\n            />\n          </div>\n          <button onClick={handleSend} style={{ padding: '8px 12px' }}>전송</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}